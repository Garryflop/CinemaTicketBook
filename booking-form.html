<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="Absolute Cinema - Your Provider Perfect Movie Experience">
        <meta name="keywords" content="cinema, movies, tickets, booking">
        <title>Complete Your Booking | Absolute Cinema</title>
        <link rel="stylesheet" href="style3.css">
        <link rel="icon" type="image/x-icon" href="images/logoAC.svg">
    </head>
    <body>
        <!-- Header Section -->
        <header>
            <div class="container">
                <a href="index.html" class="logo">AbsoluteCinema</a>
                <nav>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="index.html">Home</a></li>
                    </ul>
                </nav>
            </div>
        </header>

        <!-- Main Content -->
        <main id="main-content">
            <!-- Progress Indicator -->
            <section class="section">
                <div class="container">
                    <div>
                        <div>
                            <div>‚úì</div>
                            <span>Select Movie</span>
                        </div>
                        <div></div>
                        <div>
                            <div>‚úì</div>
                            <span>Select Seats</span>
                        </div>
                        <div></div>
                        <div>
                            <div>3</div>
                            <span>Payment</span>
                        </div>
                        <div></div>
                        <div>
                            <div>4</div>
                            <span>Confirmation</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Booking Summary -->
            <section class="section">
                <div class="container">
                    <div>
                        <h3>Booking Summary</h3>
                        <div>
                            <div>
                                <p>Movie</p>
                                <p>Qaitadan</p>
                            </div>
                            <div>
                                <p>Date & Time</p>
                                <p>Sep 19, 2025 - 8:00 PM</p>
                            </div>
                            <div>
                                <p>Cinema</p>
                                <p>Astana, Turan Ave. 37</p>
                            </div>
                            <div>
                                <p>Seats</p>
                                <p>Seats 4-5</p>
                            </div>
                            <div>
                                <p>Total Amount</p>
                                <p>‚Ç∏1140</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Forms Section -->
            <section class="section">
                <div class="container">
                    <div>
                        <!-- Customer Information Form -->
                        <div>
                            <h2 class="section-title">Customer Information</h2>
                            <form class="form-container" id="customerForm">
                                <div class="form-group">
                                    <label for="firstName">First Name *</label>
                                    <input type="text" id="firstName" name="firstName" required>
                                </div>

                                <div class="form-group">
                                    <label for="lastName">Last Name *</label>
                                    <input type="text" id="lastName" name="lastName" required>
                                </div>

                                <div class="form-group">
                                    <label for="email">Email Address *</label>
                                    <input type="email" id="email" name="email" required>
                                </div>

                                <div class="form-group">
                                    <label for="phone">Phone Number *</label>
                                    <input type="tel" id="phone" name="phone" placeholder="+7 (XXX) XXX-XXXX" required>
                                </div>

                                <div class="form-group">
                                    <label for="birthDate">Date of Birth</label>
                                    <input type="date" id="birthDate" name="birthDate">
                                </div>

                                <div class="form-group">
                                    <label for="specialRequests">Special Requests</label>
                                    <textarea id="specialRequests" name="specialRequests" rows="4" placeholder="Any special requirements or requests..."></textarea>
                                </div>

                                <div class="form-group">
                                    <div>
                                        <input type="checkbox" id="newsletter" name="newsletter">
                                        <label for="newsletter">Subscribe to our newsletter for exclusive offers</label>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div>
                                        <input type="checkbox" id="terms" name="terms" required>
                                        <label for="terms">I agree to the <a href="#">Terms and Conditions</a> *</label>
                                    </div>
                                </div>
                            </form>
                        </div>

                        <!-- Payment Information Form -->
                        <div>
                            <h2 class="section-title">Payment Information</h2>
                            <div class="form-container">
                                <!-- Payment Method Selection -->
                                <div class="form-group">
                                    <label>Payment Method *</label>
                                    <div>
                                        <div onclick="selectPaymentMethod(this, 'card')">
                                            <div>üí≥</div>
                                            <p>Credit Card</p>
                                        </div>
                                        <div onclick="selectPaymentMethod(this, 'kaspi')">
                                            <div>üì±</div>
                                            <p>Kaspi QR</p>
                                        </div>
                                        <div onclick="selectPaymentMethod(this, 'applepay')">
                                            <div>üçé</div>
                                            <p>Apple Pay</p>
                                        </div>
                                        <div onclick="selectPaymentMethod(this, 'bank')">
                                            <div>üè¶</div>
                                            <p>Bank Transfer</p>
                                        </div>
                                    </div>
                                </div>

                                <!-- Credit Card Form (Default) -->
                                <div id="cardPaymentForm">
                                    <div class="form-group">
                                        <label for="cardNumber">Card Number *</label>
                                        <input type="text" id="cardNumber" name="cardNumber" placeholder="1234 5678 9012 3456" maxlength="19">
                                    </div>

                                    <div>
                                        <div class="form-group">
                                            <label for="expiryDate">Expiry Date *</label>
                                            <input type="text" id="expiryDate" name="expiryDate" placeholder="MM/YY" maxlength="5">
                                        </div>
                                        <div class="form-group">
                                            <label for="cvv">CVV *</label>
                                            <input type="text" id="cvv" name="cvv" placeholder="123" maxlength="4">
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <label for="cardName">Cardholder Name *</label>
                                        <input type="text" id="cardName" name="cardName" placeholder="Name as on card">
                                    </div>

                                    <div class="form-group">
                                        <label for="billingAddress">Billing Address</label>
                                        <textarea id="billingAddress" name="billingAddress" rows="3" placeholder="Enter your billing address..."></textarea>
                                    </div>
                                </div>

                                <!-- Alternative Payment Methods (Hidden by default) -->
                                <div id="kaspiPaymentForm" style="display: none;">
                                    <div>
                                        <div>üì±</div>
                                        <h3>Kaspi QR Payment</h3>
                                        <p>
                                            You will be redirected to Kaspi app to complete the payment
                                        </p>
                                        <div>
                                            <div>QR CODE</div>
                                        </div>
                                    </div>
                                </div>

                                <div id="applePayForm" style="display: none;">
                                    <div>
                                        <div>üçé</div>
                                        <h3>Apple Pay</h3>
                                        <p>
                                            Use Touch ID or Face ID to complete your payment
                                        </p>
                                        <button class="btn">Pay with Apple Pay</button>
                                    </div>
                                </div>

                                <div id="bankTransferForm" style="display: none;">
                                    <div>
                                        <div>üè¶</div>
                                        <h3>Bank Transfer</h3>
                                        <p>
                                            Transfer payment to our bank account
                                        </p>
                                        <div>
                                            <p><strong>Account Name:</strong> AbsCinema Kazakhstan</p>
                                            <p><strong>Account Number:</strong> KZ86 125K ZT50 0410 0100</p>
                                            <p><strong>Bank:</strong> Kaspi Bank</p>
                                            <p><strong>Reference:</strong> BOOKING-2025-001</p>
                                        </div>
                                    </div>
                                </div>

                                <!-- Discount Codes -->
                                <div class="form-group">
                                    <label for="promoCode">Promo Code (Optional)</label>
                                    <div>
                                        <input type="text" id="promoCode" name="promoCode" placeholder="Enter promo code">
                                        <button type="button" class="btn btn-secondary" onclick="applyPromoCode()">Apply Code</button>
                                    </div>
                                    <div id="promoMessage"></div>
                                </div>

                                <!-- Final Total -->
                                <div>
                                    <div>
                                        <div>
                                            <h3>Total Amount</h3>
                                            <p>2 tickets ‚Ä¢ Booking fee included</p>
                                        </div>
                                        <div>
                                            <p id="finalTotal">‚Ç∏1140</p>
                                            <p>Secure Payment üîí</p>
                                        </div>
                                    </div>
                                </div>

                                <!-- Action Buttons -->
                                <div>
                                    <a href="seat-selection.html" class="btn btn-secondary">‚Üê Back to Seats</a>
                                    <button type="submit" class="btn" onclick="processPayment()">Complete Payment</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Security & Trust Section -->
            <section class="section">
                <div class="container">
                    <h3>Secure & Trusted Payment</h3>
                    <div>
                        <div>
                            <div>üîí</div>
                            <h4>SSL Encrypted</h4>
                            <p>Your payment information is protected with bank-level security encryption</p>
                        </div>
                        <div>
                            <div>üí≥</div>
                            <h4>PCI Compliant</h4>
                            <p>We meet the highest standards for processing card payments securely</p>
                        </div>
                        <div>
                            <div>üõ°Ô∏è</div>
                            <h4>Money Back Guarantee</h4>
                            <p>Full refund if technical issues prevent you from enjoying your movie</p>
                        </div>
                        <div>
                            <div>üìû</div>
                            <h4>24/7 Support</h4>
                            <p>Our customer service team is always ready to help with your booking</p>
                        </div>
                    </div>

                    <!-- Accepted Payment Methods -->
                    <div>
                        <h4>Accepted Payment Methods</h4>
                        <div>
                            <div>VISA</div>
                            <div>MasterCard</div>
                            <div>American Express</div>
                            <div>Kaspi</div>
                            <div>Apple Pay</div>
                            <div>Google Pay</div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
        <footer>
            <div class="container">
                <div id="footer-content">
                    <div class="team-members">
                        <h3> Team Members </h3>
                        <p>Diasbek Amangeldiyev - Foundation & Layout</p>
                        <p>Ernar Omarov - Navigation & Interactive </p>
                        <p>Nurdaulet Saparbekov - Forms & Advanced Features</p>
                        <p>Web Technologies Frontend Course - Assignment 2</p>
                    </div>
                </div>
            </div>
        </footer>
        <!-- JavaScript for Form Interactions -->
        <script>
            // Payment method selection
            function selectPaymentMethod(element, method) {
                // Reset all payment method styles
                const paymentMethods = element.parentElement.children;
                for (let i = 0; i < paymentMethods.length; i++) {
                    paymentMethods[i].style.borderColor = paymentMethods[i].style.borderColor.replace('0.8', '0.3');
                    paymentMethods[i].style.transform = 'scale(1)';
                }
                
                // Highlight selected method
                element.style.borderColor = element.style.borderColor.replace('0.3', '0.8');
                element.style.transform = 'scale(1.05)';
                
                // Show/hide payment forms
                const forms = ['cardPaymentForm', 'kaspiPaymentForm', 'applePayForm', 'bankTransferForm'];
                forms.forEach(formId => {
                    document.getElementById(formId).style.display = 'none';
                });
                
                switch(method) {
                    case 'card':
                        document.getElementById('cardPaymentForm').style.display = 'block';
                        break;
                    case 'kaspi':
                        document.getElementById('kaspiPaymentForm').style.display = 'block';
                        break;
                    case 'applepay':
                        document.getElementById('applePayForm').style.display = 'block';
                        break;
                    case 'bank':
                        document.getElementById('bankTransferForm').style.display = 'block';
                        break;
                }
            }
            
            // Promo code application
            function applyPromoCode() {
                const promoCode = document.getElementById('promoCode').value.trim().toUpperCase();
                const messageDiv = document.getElementById('promoMessage');
                const totalElement = document.getElementById('finalTotal');
                
                if (!promoCode) {
                    messageDiv.innerHTML = '<span style="color: #ef4444;">Please enter a promo code</span>';
                    return;
                }
                
                // Simulate promo code validation
                const validCodes = {
                    'STUDENT20': { discount: 20, message: 'Student discount applied!' },
                    'FIRST10': { discount: 10, message: 'First time customer discount!' },
                    'WEEKEND15': { discount: 15, message: 'Weekend special discount!' },
                    'AITU25': { discount: 25, message: 'VIP member discount!' }
                };
                
                if (validCodes[promoCode]) {
                    const discount = validCodes[promoCode].discount;
                    const originalTotal = 1000;
                    const discountAmount = Math.round(originalTotal * discount / 100);
                    const newTotal = originalTotal - discountAmount;
                    
                    messageDiv.innerHTML = `<span style="color: #22c55e;">‚úì ${validCodes[promoCode].message} Save ‚Ç∏${discountAmount}</span>`;
                    totalElement.textContent = `‚Ç∏${newTotal.toLocaleString()}`;
                } else {
                    messageDiv.innerHTML = '<span style="color: #ef4444;">Invalid promo code</span>';
                }
            }
            
            // Card number formatting
            document.getElementById('cardNumber').addEventListener('input', function(e) {
                let value = e.target.value.replace(/\s/g, '').replace(/[^0-9]/gi, '');
                let formattedValue = value.match(/.{1,4}/g)?.join(' ') || value;
                e.target.value = formattedValue;
            });
            
            // Expiry date formatting
            document.getElementById('expiryDate').addEventListener('input', function(e) {
                let value = e.target.value.replace(/\D/g, '');
                if (value.length >= 2) {
                    value = value.substring(0,2) + '/' + value.substring(2,4);
                }
                e.target.value = value;
            });
            
            // CVV formatting
            document.getElementById('cvv').addEventListener('input', function(e) {
                e.target.value = e.target.value.replace(/[^0-9]/gi, '');
            });
            
            // Form submission
            function processPayment() {
                const form = document.getElementById('customerForm');
                const requiredFields = form.querySelectorAll('input[required], textarea[required]');
                let isValid = true;
                
                // Validate required fields
                requiredFields.forEach(field => {
                    if (!field.value.trim()) {
                        isValid = false;
                        field.style.borderColor = '#ef4444';
                    } else {
                        field.style.borderColor = 'rgba(255, 107, 53, 0.3)';
                    }
                });
                
                if (!isValid) {
                    alert('Please fill in all required fields');
                    return;
                }
                
                // Simulate payment processing
                const overlay = document.createElement('div');
                overlay.style.cssText = `
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: rgba(15, 15, 35, 0.95);
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    z-index: 10000;
                    color: white;
                    text-align: center;
                `;
                
                overlay.innerHTML = `
                    <div>
                        <div style="font-size: 48px; margin-bottom: 20px; animation: spin 1s linear infinite;">‚ö°</div>
                        <h3 style="color: #ff6b35; margin-bottom: 15px;">Processing Payment...</h3>
                        <p style="color: #cccccc;">Please wait while we process your booking</p>
                    </div>
                    <style>
                        @keyframes spin {
                            0% { transform: rotate(0deg); }
                            100% { transform: rotate(360deg); }
                        }
                    </style>
                `;
                
                document.body.appendChild(overlay);
                
                // Redirect to confirmation page after 3 seconds
                setTimeout(() => {
                    window.location.href = 'confirmation.html';
                }, 3000);
            }
            
            // Auto-fill name from card name to customer name
            document.getElementById('cardName').addEventListener('blur', function(e) {
                const cardName = e.target.value.trim();
                if (cardName && !document.getElementById('firstName').value && !document.getElementById('lastName').value) {
                    const names = cardName.split(' ');
                    if (names.length >= 2) {
                        document.getElementById('firstName').value = names[0];
                        document.getElementById('lastName').value = names.slice(1).join(' ');
                    }
                }
            });
        </script>
    </body>
</html>
